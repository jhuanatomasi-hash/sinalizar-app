<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sinalizar — Comunicação visual</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { color-scheme: light; }
        
        html, body {
            max-width: 100vw;
            overflow-x: hidden;
            background-color: #f47d35; /* Cor de fundo para preencher o espaço */
        }
        * { box-sizing: border-box; }
        body { 
            font-family: 'Roboto', system-ui, -apple-system, Segoe UI, Arial, sans-serif;
            position: relative; /* Contexto para o posicionamento */
            width: 100%;
            min-height: 100vh;
        }

        /* A MUDANÇA FINAL E MAIS IMPORTANTE ESTÁ AQUI */
        #painel-central {
            position: absolute;
            top: 1rem; /* Um pequeno espaço do topo */
            left: 50%;
            transform: translateX(-50%);
            width: 95%; /* Ocupa 95% da largura da tela */
            max-width: 420px; /* Mas não passa de 420px */
        }

        .nice-scroll { scrollbar-width: thin; scrollbar-color: #cbd5e1 transparent; }
        .nice-scroll::-webkit-scrollbar { height: 8px; width: 8px; }
        .nice-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 9999px; }
    </style>
</head>
<body class="text-white">
    <!-- Este container agora usa o posicionamento absoluto para se centralizar -->
    <div id="painel-central">
        <header class="mb-4 text-center">
            <h1 class="text-2xl font-bold">Sinalizar</h1>
            <p class="text-lg">Comunicação visual</p>
        </header>
        <main class="w-full space-y-4">
            <section class="bg-white text-black rounded-2xl shadow-sm p-3">
                <div class="flex flex-col gap-2 mb-3">
                    <div><h2 id="cal-title" class="text-base font-semibold">Calendário</h2></div>
                    <div class="flex items-center justify-between gap-2">
                        <button id="btn-today" class="px-3 py-1 text-xs rounded-xl border border-slate-200 text-slate-700 hover:bg-slate-50">Hoje</button>
                        <div class="flex rounded-xl border border-slate-200 overflow-hidden">
                            <button id="btn-prev" class="px-2 py-1 hover:bg-slate-50">◀</button>
                            <button id="btn-next" class="px-2 py-1 hover:bg-slate-50">▶</button>
                        </div>
                    </div>
                </div>
                <div class="rounded-2xl border border-slate-200">
                    <div class="grid grid-cols-7 bg-slate-50 border-b border-slate-200 text-[9px] text-slate-600">
                        <div class="p-1 text-center font-bold">SEG</div>
                        <div class="p-1 text-center font-bold">TER</div>
                        <div class="p-1 text-center font-bold">QUA</div>
                        <div class="p-1 text-center font-bold">QUI</div>
                        <div class="p-1 text-center font-bold">SEX</div>
                        <div class="p-1 text-center font-bold">SAB</div>
                        <div class="p-1 text-center font-bold">DOM</div>
                    </div>
                    <div id="cal-grid" class="grid grid-cols-7 auto-rows-[minmax(35px,1fr)]"></div>
                </div>
            </section>
            <section class="bg-white text-black rounded-2xl shadow-sm p-3">
                <h2 class="text-base font-semibold mb-3">Lista de Tarefas</h2>
                <div class="flex flex-col gap-2 mb-3">
                    <input id="todo-input" type="text" class="w-full rounded-xl border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-blue-500 text-sm" placeholder="Adicionar nova tarefa...">
                    <button id="todo-add" class="w-full px-4 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700 text-sm">Adicionar</button>
                </div>
                <ul id="todo-list" class="nice-scroll max-h-40 overflow-y-auto space-y-2"></ul>
            </section>
            <section class="bg-white text-black rounded-2xl shadow-sm p-3">
                <div class="flex items-center justify-between mb-3">
                    <h2 class="text-base font-semibold">Bloco de Notas</h2>
                    <button id="note-new" class="px-3 py-1 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 text-sm">Nova nota</button>
                </div>
                <div id="note-form" class="hidden mb-4 rounded-2xl border border-slate-200 p-3">
                    <div class="flex flex-col gap-2">
                        <input id="note-title" type="text" class="rounded-xl border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-emerald-500 text-sm" placeholder="Título (opcional)">
                        <textarea id="note-body" rows="3" class="rounded-xl border border-slate-300 px-3 py-2 outline-none focus:ring-2 focus:ring-emerald-500 text-sm" placeholder="Digite sua nota..."></textarea>
                        <div class="flex items-center gap-2 justify-end">
                            <button id="note-cancel" class="px-3 py-1 rounded-xl border border-slate-200 hover:bg-slate-50 text-sm">Cancelar</button>
                            <button id="note-save" class="px-3 py-1 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700 text-sm">Salvar</button>
                        </div>
                    </div>
                </div>
                <div id="note-list" class="nice-scroll max-h-40 overflow-y-auto space-y-2"></div>
            </section>
        </main>
    </div>

<script>
// O SCRIPT NÃO PRECISA DE MUDANÇAS
const store={get(e,t){try{return JSON.parse(localStorage.getItem(e))??t}catch{return t}},set(e,t){localStorage.setItem(e,JSON.stringify(t))}};const calGrid=document.getElementById("cal-grid"),calTitle=document.getElementById("cal-title"),btnPrev=document.getElementById("btn-prev"),btnNext=document.getElementById("btn-next"),btnToday=document.getElementById("btn-today");let current=new Date;function startOfMonth(e){return new Date(e.getFullYear(),e.getMonth(),1)}function endOfMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function isSameDay(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function renderCalendar(){const e=startOfMonth(current),t=endOfMonth(current),n=(e.getDay()+6)%7,l=t.getDate(),c=new Intl.DateTimeFormat("pt-BR",{month:"long",year:"numeric"}),o=c.format(current);calTitle.textContent=o.charAt(0).toUpperCase()+o.slice(1),calGrid.innerHTML="";for(let a=0;a<n;a++){const d=document.createElement("div");d.className="border-t border-r border-slate-200 bg-slate-50",calGrid.appendChild(d)}const s=new Date;for(let r=1;r<=l;r++){const i=new Date(current.getFullYear(),current.getMonth(),r),u=isSameDay(i,s),m=document.createElement("div");m.className="border-t border-r border-slate-200 relative flex items-center justify-center",m.innerHTML=`<div class="day-cell-number flex items-center justify-center w-5 h-5 text-[10px] ${u?"bg-blue-600 text-white":"text-slate-700"} rounded-full">${r}</div>`,calGrid.appendChild(m)}}btnPrev.addEventListener("click",()=>{current=new Date(current.getFullYear(),current.getMonth()-1,1),renderCalendar()}),btnNext.addEventListener("click",()=>{current=new Date(current.getFullYear(),current.getMonth()+1,1),renderCalendar()}),btnToday.addEventListener("click",()=>{current=new Date,renderCalendar()});const todoInput=document.getElementById("todo-input"),todoAdd=document.getElementById("todo-add"),todoList=document.getElementById("todo-list");function loadTodos(){return store.get("todos_v1",[])}function saveTodos(e){store.set("todos_v1",e)}function renderTodos(){const e=loadTodos();todoList.innerHTML="",e.forEach((t,n)=>{const l=document.createElement("li");l.className="flex items-center gap-3 p-2 rounded-xl border border-slate-200 text-black",l.innerHTML=`<input type="checkbox" ${t.done?"checked":""} class="w-5 h-5 rounded-md border-slate-300"> <span class="flex-1 ${t.done?"line-through text-slate-400":"text-slate-700"} break-anywhere text-sm">${t.text}</span> <button class="px-2 py-1 rounded-lg border border-slate-200 hover:bg-slate-50 text-xs">✖</button>`;const c=l.querySelector('input[type=checkbox]');c.addEventListener("change",()=>{const e=loadTodos();e[n].done=!e[n].done,saveTodos(e),renderTodos()}),l.querySelector("button").addEventListener("click",()=>{const e=loadTodos();e.splice(n,1),saveTodos(e),renderTodos()}),todoList.appendChild(l)})}function addTodo(){const e=(todoInput.value||"").trim();if(!e)return;const t=loadTodos();t.unshift({text:e,done:!1,createdAt:Date.now()}),saveTodos(t),todoInput.value="",renderTodos()}todoAdd.addEventListener("click",addTodo),todoInput.addEventListener("keydown",e=>{e.key==="Enter"&&addTodo()});const noteNewBtn=document.getElementById("note-new"),noteForm=document.getElementById("note-form"),noteTitle=document.getElementById("note-title"),noteBody=document.getElementById("note-body"),noteCancel=document.getElementById("note-cancel"),noteSave=document.getElementById("note-save"),noteList=document.getElementById("note-list");let editingIndex=null;function loadNotes(){return store.get("notes_v1",[])}function saveNotes(e){store.set("notes_v1",e)}function openForm(e=!0){noteForm.classList.remove("hidden"),e&&(noteTitle.value="",noteBody.value="",editingIndex=null),noteTitle.focus()}function closeForm(){noteForm.classList.add("hidden"),noteTitle.value="",noteBody.value="",editingIndex=null}noteNewBtn.addEventListener("click",()=>openForm(!0)),noteCancel.addEventListener("click",closeForm),noteSave.addEventListener("click",()=>{const e=noteTitle.value.trim(),t=noteBody.value.trim();if(!e&&!t)return;const n=loadNotes();null===editingIndex?n.unshift({title:e,body:t,createdAt:Date.now(),updatedAt:Date.now()}):n[editingIndex]={...n[editingIndex],title:e,body:t,updatedAt:Date.now()},saveNotes(n),closeForm(),renderNotes()});function renderNotes(){const e=loadNotes();noteList.innerHTML="",0===e.length?(()=>{const t=document.createElement("div");t.className="text-slate-500 text-sm text-center py-4",t.textContent="Sem notas ainda.",noteList.appendChild(t)})():e.forEach((t,n)=>{const l=document.createElement("article");l.className="p-3 rounded-2xl border border-slate-200";const c=t.title?`<h3 class="font-medium text-slate-800 mb-1 break-anywhere">${escapeHtml(t.title)}</h3>`:"",o=t.body?escapeHtml(t.body).slice(0,280):"",s=new Date(t.updatedAt||t.createdAt),r=s.toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"});l.innerHTML=`${c}${o?`<p class="text-slate-700 break-anywhere whitespace-pre-wrap text-sm">${o}</p>`:""} <div class="mt-2 flex items-center justify-between text-xs text-slate-500"> <span>${r}</span> <div class="flex items-center gap-2"> <button class="px-2 py-1 rounded-lg border border-slate-200 hover:bg-slate-50">Editar</button> <button class="px-2 py-1 rounded-lg border border-rose-200 text-rose-700 hover:bg-rose-50">Excluir</button> </div> </div>`;const[i,u]=l.querySelectorAll("button");i.addEventListener("click",()=>{editingIndex=n,noteTitle.value=t.title||"",noteBody.value="",openForm(!1)}),u.addEventListener("click",()=>{const e=loadNotes();e.splice(n,1),saveNotes(e),renderNotes()}),noteList.appendChild(l)})}function escapeHtml(e){return e.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#-39;"}[t]))}function init(){renderCalendar(),renderTodos(),renderNotes()}document.addEventListener("DOMContentLoaded",init);
</script>
</body>
</html>

